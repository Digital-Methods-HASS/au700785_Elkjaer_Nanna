---
title: "Danish kings duration of reign through time"
author: "Nanna Elkj√¶r-Larsen"
date: "2022-11-29"
output: html_document
---

Dataframe on danish kings duration of reign through time

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dplyr)
library(ggplot2)
```

## Load dataframe

I firstly need to load the dataframe and define it as an object 

```{r load dataframe}
read_csv2("data/kings_3-kopi.csv")

kings <- read_csv2("data/kings_3-kopi.csv")
```

Although duration and midyear is already included in my dataset, I  want to illustrate how it is calculated and added to my dataframe in R. I will call them duration_1 and midyear_1. 

```{r }
kings %>% 
  mutate(duration_1=End_date-Start_date) %>% 
  mutate(midyear_1=End_date-Duration/2)

```
This is my clean dataframe and I will save it as kings_clean

```{r }
kings_clean <- kings %>% 
  mutate(duration_1=End_date-Start_date) %>% 
  mutate(midyear_1=End_date-Duration/2)
```

## Visualization 

I can then make a visualization on the duration of reign among Danish kings through time using ggplot 

```{r visualization, echo=FALSE}

kings_clean %>%
  ggplot(aes(x = midyear_1, y = duration_1)) +
  geom_smooth() + 
  labs(title = "Danish kings duration of reign", x = "Midyear", y = "Duration")
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
